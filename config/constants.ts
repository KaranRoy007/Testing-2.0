require('dotenv').config()

import { BigNumber } from 'ethers'
import { parseEther } from 'ethers/lib/utils'

export const CHAIN_IDS: any = {
  ETHEREUM: {
    MAINNET: BigNumber.from('1'),
    RINKEBY: BigNumber.from('4'),
    GOERLI: BigNumber.from('5'),
    KOVAN: BigNumber.from('42')
  },
  OPTIMISM: {
    OPTIMISM_TESTNET: BigNumber.from('69'),
    OPTIMISM_MAINNET: BigNumber.from('10'),
  },
  ARBITRUM: {
    ARBITRUM_TESTNET: BigNumber.from('421611'),
    ARBITRUM_MAINNET: BigNumber.from('42161')
  },
  XDAI: {
    XDAI: BigNumber.from('100'),
    SOKOL: BigNumber.from('77')
  },
  POLYGON: {
    POLYGON: BigNumber.from('137'),
    MUMBAI: BigNumber.from('80001')
  }
}

const CHAIN_IDS_TO_ACTIVATE: any = {
  ETHEREUM: {
    MAINNET: BigNumber.from('1')
  },
  XDAI: {
    XDAI: BigNumber.from('100')
  },
  POLYGON: {
    POLYGON: BigNumber.from('137')
  },
  OPTIMISM: {
    OPTIMISM_MAINNET: BigNumber.from('10')
  },
  ARBITRUM: {
    ARBITRUM_MAINNET: BigNumber.from('42161')
  }
}

export const ALL_SUPPORTED_CHAIN_IDS: BigNumber[] = (Object.values(
  CHAIN_IDS_TO_ACTIVATE
) as any[]).reduce((a: any[], b: any) => [...a, ...Object.values(b)], [])

export const ZERO_ADDRESS: string = '0x0000000000000000000000000000000000000000'
export const ONE_ADDRESS: string = '0x0000000000000000000000000000000000000001'
export const DEAD_ADDRESS: string = '0x000000000000000000000000000000000000dEaD'
export const ARBITRARY_ROOT_HASH: string =
  '0x7465737400000000000000000000000000000000000000000000000000000000'
export const ARBITRARY_TRANSFER_NONCE: string =
  '0x7465737400000000000000000000000000000000000000000000000000000000'
export const MAX_APPROVAL: BigNumber = BigNumber.from(
  '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'
)

export const DEFAULT_L2_BRIDGE_GAS_LIMIT: number = 500000
export const DEFAULT_MESSENGER_WRAPPER_GAS_LIMIT: number = 3500000
export const DEFAULT_MESSENGER_WRAPPER_GAS_PRICE: number = 0
export const DEFAULT_MESSENGER_WRAPPER_CALL_VALUE: number = 0

export const DEFAULT_MAX_SUBMISSION_COST: BigNumber = BigNumber.from('10000000000000000')
export const DEFAULT_MAX_GAS: number = 5000000
export const DEFAULT_GAS_PRICE_BID: number = 100000000000

export const DEFAULT_AMOUNT_OUT_MIN: number = 0
export const DEFAULT_DEADLINE: BigNumber = BigNumber.from('9999999999')

export const MAX_NUM_SENDS_BEFORE_COMMIT: number = 100

export const USER_INITIAL_BALANCE: BigNumber = BigNumber.from(parseEther('10'))
export const LIQUIDITY_PROVIDER_INITIAL_BALANCE: BigNumber = BigNumber.from(
  parseEther('1000')
)
export const LIQUIDITY_PROVIDER_AMM_AMOUNT: BigNumber = LIQUIDITY_PROVIDER_INITIAL_BALANCE.div(
  2
)

export const BONDER_INITIAL_BALANCE: BigNumber = BigNumber.from(
  parseEther('10000')
)
export const INITIAL_BONDED_AMOUNT: BigNumber = BONDER_INITIAL_BALANCE.div(5)
export const CHALLENGER_INITIAL_BALANCE: BigNumber = BigNumber.from(
  parseEther('1')
)
export const RELAYER_INITIAL_BALANCE: BigNumber = BigNumber.from(
  parseEther('10')
)

export const TRANSFER_AMOUNT: BigNumber = BigNumber.from(parseEther('5'))
export const DEFAULT_BONDER_FEE: BigNumber = BigNumber.from(parseEther('1'))
export const DEFAULT_RELAYER_FEE: BigNumber = BigNumber.from(parseEther('0'))

export const AMM_LP_MINIMUM_LIQUIDITY: BigNumber = BigNumber.from('1000')

export const DEFAULT_H_BRIDGE_TOKEN_NAME = 'DAI Hop Token'
export const DEFAULT_H_BRIDGE_TOKEN_SYMBOL = 'hDAI'
export const DEFAULT_H_BRIDGE_TOKEN_DECIMALS = 18

export const SECONDS_IN_A_MINUTE: number = 60
export const SECONDS_IN_AN_HOUR: number = 60 * SECONDS_IN_A_MINUTE
export const SECONDS_IN_A_DAY: number = 24 * SECONDS_IN_AN_HOUR
export const SECONDS_IN_A_WEEK: number = 7 * SECONDS_IN_A_DAY
export const DEFAULT_TIME_TO_WAIT: number = 0
export const TIMESTAMP_VARIANCE: number = 1000000

export const C_TO_H_SWAP_INDICES: string[] = ['0', '1']
export const H_TO_C_SWAP_INDICES: string[] = ['1', '0']

export const DEFAULT_SWAP_DECIMALS: string[] = ['18', '18']
export const DEFAULT_SWAP_LP_TOKEN_NAME: string = 'Hop DAI LP Token'
export const DEFAULT_SWAP_LP_TOKEN_SYMBOL: string = 'HOP-LP-DAI'
export const DEFAULT_SWAP_A: string = '200'
export const DEFAULT_SWAP_FEE: string = '4000000'
export const DEFAULT_SWAP_ADMIN_FEE: string = '0'
export const DEFAULT_SWAP_WITHDRAWAL_FEE: string = '0'

export const POLYGON_RPC_ENDPOINTS: any = {
  MAINNET: process.env.RPC_ENDPOINT_POLYGON,
  GOERLI: process.env.RPC_ENDPOINT_GOERLI
}

export const FX_ROOT_ADDRESSES: any = {
  MAINNET: '0xfe5e5D361b2ad62c541bAb87C45a0B9B018389a2',
  GOERLI: '0x3d1d3E34f7fB6D26245E6640E1c50710eFFf15bA'
}

export const FX_CHILD_ADDRESSES: any = {
  MAINNET: '0x8397259c983751DAf40400790063935a11afa28a',
  GOERLI: '0xCf73231F28B7331BBe3124B907840A94851f9f11'
}

export const CHECKPOINT_MANAGER_ADDRESSES: any = {
  MAINNET: '0x86e4dc95c7fbdbf52e33d563bbdb00823894c287',
  GOERLI: '0x2890bA17EfE978480615e330ecB65333b880928e'
}

export const ERC721_MINTABLE_PREDICATE_ADDRESSES: any = {
  MAINNET: '0x932532aA4c0174b8453839A6E44eE09Cc615F2b7',
  GOERLI: '0x56E14C4C1748a818a5564D33cF774c59EB3eDF59'
}

export const ERC1155_MINTABLE_PREDICATE_ADDRESSES: any = {
  MAINNET: '0x2d641867411650cd05dB93B59964536b1ED5b1B7',
  GOERLI: '0x72d6066F486bd0052eefB9114B66ae40e0A6031a'
}

export const AMB_PROXY_ADDRESSES: any = {
  MAINNET: '0x4C36d2919e407f0Cc2Ee3c993ccF8ac26d9CE64e',
  KOVAN: '0xFe446bEF1DbF7AFE24E81e05BC8B271C1BA9a560'
}

export const L1_CANONICAL_TOKEN_ADDRESSES: any = {
  MAINNET: {
    USDC: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',
    USDT: '0xdAC17F958D2ee523a2206206994597C13D831ec7',
    MATIC: '0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0',
    DAI: '0x6B175474E89094C44Da98b954EedeAC495271d0F',
    ETH: '0x0000000000000000000000000000000000000000',
    WBTC: '0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599',
    FRAX: '0x853d955aCEf822Db058eb8505911ED77F175b99e'
  },
  GOERLI: {
    DAI: '0xC61bA16e864eFbd06a9fe30Aab39D18B8F63710a',
    sETH: '0x5D13179c5fa40b87D53Ff67ca26245D3D5B2F872',
    sBTC: '0x12a3a66720dD925fa93f7C895bC20Ca9560AdFe7',
    USDC: '0x98339D8C260052B7ad81c28c16C0b98420f2B46a',
    WBTC: '0xCB784a097f33231f2D3a1E22B236a9D2c878555d',
    ETH: '0x0000000000000000000000000000000000000000'
  },
  KOVAN: {
    DAI: '0x436e3FfB93A4763575E5C0F6b3c97D5489E050da',
    sETH: '0x7EE6109672c07Dcf97435C8238835EFF5D6E89FD',
    sBTC: '0x7a4f56B0Dd21d730604A266245a0067b97605DAE',
    USDC: '0xA46d09fd4B7961aE16D33122660f43726cB1Ff36',
    WBTC: '0x1E1a556D2166A006e662864D376e8DD249087150',
    ETH: '0x0000000000000000000000000000000000000000'
  },
  RINKEBY: {
    DAI: '0x5592EC0cfb4dbc12D3aB100b257153436a1f0FEa',
    ETH: '0x0000000000000000000000000000000000000000'
  }
}

export const L2_CANONICAL_TOKEN_ADDRESSES: any = {
  POLYGON: {
    USDC: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',
    USDT: '0xc2132D05D31c914a87C6611C10748AEb04B58e8F',
    MATIC: '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270',
    DAI: '0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063',
    ETH: '0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619',
    WBTC: '0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6',
    FRAX: '0x45c32fA6DF82ead1e2EF74d17b76547EDdFaFF89'
  },
  MUMBAI: {
    DAI: '0xb224913CE3851b0a0d7C0FB461eEF40f2e31ddb8',
    sETH: '0x61F00BD6995A087F84BCcA62dCC835905f2a9207',
    sBTC: '0xe5BEd2355E575b32B0e151EA6577Dfe05FaE5484',
    USDC: '0x6D4dd09982853F08d9966aC3cA4Eb5885F16f2b2',
    WBTC: '0x90ac599445B07c8aa0FC82248f51f6558136203D',
    ETH: '0x7fF4449F01ca7b207dA17D734260ff56075C564d'
  },
  XDAI: {
    USDC: '0xDDAfbb505ad214D7b80b1f830fcCc89B60fb7A83',
    USDT: '0x4ECaBa5870353805a9F068101A40E0f32ed605C6',
    MATIC: '0x7122d7661c4564b7C6Cd4878B06766489a6028A2',
    DAI: '0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d',
    ETH: '0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1',
    WBTC: '0x8e5bBbb09Ed1ebdE8674Cda39A0c169401db4252'
  },
  SOKOL: {
    DAI: '0x1085e25E7085a8c96aa61DFf368A0e363E7432E6',
    sETH: '0xeC3B005D2BF47f505F1A0cD68eEb7Ea439D6daF6',
    sBTC: '0x696ED254EC9bD27328d5ef81905042913260eccd',
    USDC: '0x3b0977b9e563F63F219019616BBD12cB1cdFF527',
    WBTC: '0x94490EF228D4aBD189694f86D1684D972431380b',
    ETH: 'TODO'
  },
  OPTIMISM_MAINNET: {
    USDC: '0x7F5c764cBc14f9669B88837ca1490cCa17c31607',
    USDT: '0x94b008aA00579c1307B0EF2c499aD98a8ce58e58',
    MATIC: 'TODO',
    DAI: '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1',
    ETH: '0x4200000000000000000000000000000000000006',
    WBTC: '0x68f180fcCe6836688e9084f035309E29Bf0A2095',
    FRAX: '0x2E3D870790dC77A83DD1d18184Acc7439A53f475'
  },
  OPTIMISM_TESTNET: {
    KOVAN: {
      DAI: '0xFB6528eFbEe8B900CeBf2c4Cf709b1EF36D46A60',
      sETH: 'TODO',
      sBTC: 'TODO',
      USDC: '0x3b8e53B3aB8E01Fb57D0c9E893bC4d655AA67d84',
      WBTC: 'TODO',
      ETH: '0x4200000000000000000000000000000000000006'
    },
    GOERLI: {
      // TODO
    }
  },
  ARBITRUM_MAINNET: {
    USDC: '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8',
    USDT: '0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9',
    DAI: '0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1',
    ETH: '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',
    WBTC: '0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f',
    FRAX: '0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F'
  },
  ARBITRUM_TESTNET: {
    ETH: '0xDc38c5aF436B9652225f92c370A011C673FA7Ba5' // rinkeby
    // ETH: '0xdc38c5af436b9652225f92c370a011c673fa7ba5' // goerli
  }
}

export const GAS_PRICE_MULTIPLIERS: { [key: string]: number } = {
  MAINNET: 1.3,
  TESTNET: 10
}
